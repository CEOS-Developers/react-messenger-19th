# 3주차 미션: React-Messenger

## 🐻 배포 링크

https://discord-react-typescript.vercel.app/

## 👩‍💻 구현 기능

- user, message 더미데이터를 json 파일에 저장하고 관리
- 메세지 전송 기능
- 메세지 전송 시 현재 시간 표시 기능
- 채팅방 프로필 클릭 시 유저 변경 기능

## 🥳 후기

디자인분과 협력하면서 피그마 디자인을 보고 적용하는 방법을 익힐 수 있어 너무 좋았습니다! 디자인분이 열심히 디자인 해주신 것을 최대한 잘 반영해보고 싶어서 꼼꼼히 하다보니 뷰 만드는데도 시간이 꽤 걸렸습니다.

타입스크립트, 상태관리를 처음 다뤄봐서 과제하는데 애를 많이 먹었습니다. 확장성을 고려하여 깔끔하고 유지보수하기 좋은 코드를 작성하고 싶었으나 기능 구현에 급급하다 보니 컴포넌트 분리도 적절히 못한 것 같고, 코드가 지저분해서 아쉬움이 많이 남습니다.🥲

`Recoil`, `Redux`를 이용해보기 전에 이번 과제에서는 `ContextAPI`를 이용하여 상태관리를 해주었습니다. `Recoil`, `Redux`를 쓰면 신세계를 경험할 수 있다고(!) 하셔서 다음 과제가 기대가 되네요. 그 전까지 틈틈이 공부하고 코드 리팩토링도 하고 싶습니다.

## 💡 새롭게 배운 점

- 피그마에서 주어진 Color System, Typography를 한꺼번에 관리하는 방법을 알게 되었습니다. ([내 코드](https://github.com/CSE-pebble/react-messenger-19th/tree/CSE-pebble/src/style))
- `ContextAPI`를 사용해보면서 상태관리의 필요성을 직접적으로 느낄 수 있었습니다.

## 🔥 어려웠던 부분 / 의문점

- 또 컴포넌트 분리...! 이번 과제에서는 저번 과제보다 더 컴포넌트 분리를 하지 못한 것 같습니다.
- 상태관리: 현재 채팅을 보내는 유저인 `currentUser`와, 채팅 데이터를 담고 있는 state인 `chats`을 전역으로 상태관리를 해주었습니다. `ContextAPI`를 이용하는 것 자체로도 시간이 많이 소요됐고, `chats`의 경우 데이터를 담고 있는 상태이기 때문에 데이터의 양이 방대해질 경우 이것을 전역으로 관리해도 괜찮을까 하는 의문이 들었습니다.
- 타입스크립트 타입 지정: 이벤트 함수 리턴 값 등 복잡한 리턴 값들을 일일이 작성해줘야 해서 귀찮았습니다... 하지만 자바스크립트로 작성해서 나중에 생기는 오류 고치는 것보단 낫겠지! 하는 마음으로 열심히 써주었습니다.
- message 데이터 `json` 파일: 우선은 `localStorage`에 저장된 값이 아무것도 없을 경우 `json` 파일에 저장된 데이터들을 불러오고, 저장된 값이 있을 경우 해당 값을 `localStorage`에서 불러오도록 구현했는데, 이렇게 구현하는게 맞는지 궁금합니다!

## ✨ 더 구현해보고 싶은 기능

- 절대 경로 설정: 파일을 import 할 때 상대경로로 하면 `../../` 등 경로가 너무 길어지는 경우가 있어서 다른 분들처럼 절대경로로 설정해보고 싶습니다. 이번엔 시도하다가 실패..
- 이미지 경로 한꺼번에 관리하기: [제 코드에서 색상을 한꺼번에 관리해준 것](https://github.com/CSE-pebble/react-messenger-19th/blob/CSE-pebble/src/style/colors.tsx)처럼 각종 아이콘 등 수많은 이미지를 한꺼번에 관리해보고 싶습니다.
- 상단바 시간 현재 시간으로 설정: 지금은 상단바 이미지를 통째로 가져와서 넣어줘서 고정된 시간으로 나와있지만, 이후에는 현재 시간을 세팅하는 기능을 구현하고 싶습니다.
- 채팅 입력 시 줄바꿈 기능: shift+enter를 누르면 채팅창 줄바꿈이 되는 기능
- 채팅 입력 시 시간: 지금은 모든 메세지마다 시간이 뜨도록 구현했는데, 이후에는 분이 바뀔 때만 or 1시간 단위로만 시간이 뜨게 구현해보고 싶습니다.
- 이번 과제 추가 기능이었던 메세지 더블클릭하면 하트가 생기는 기능

## ❓ Key Questions

### 1. JavaScript를 사용할때에 비해 TypeScript를 사용할 때의 장점은 무엇인가요?

1. 정적 타입 지정

   타입스크립트의 핵심 기능 중 하나로, 변수, 함수 매개변수, 객체 속성 등에 명시적인 타입을 지정할 수 있다. 이를 통해 컴파일 타임에 오류를 잡아낼 수 있어 런타임 오류의 가능성을 줄인다.

   - 컴파일 타임 vs 런타임
     - 컴파일 타임: 소스 코드가 컴파일러에 의해 기계어나 바이트코드 등 실행 가능한 형태로 변환되는 과정과 시간 → 컴파일 오류는 해결되지 않으면 아예 프로그램이 실행되지 않음
     - 런타임: 프로그램이 사용자 또는 다른 시스템에 의해 실행되고 있는 상태와 그 시간 → 프로그램 실행 중에 발견됨

2. 타입 추론

   타입스크립트는 변수나 함수의 반환 값에 대해 타입을 자동으로 추론한다. 명시적으로 타입을 지정하지 않아도 타입스크립트가 적절한 타입을 추론해내며, 이는 코드의 간결함을 유지하면서도 타입의 안전성을 제공한다.

3. 인터페이스와 클래스

   타입스크립트에서 클래스와 인터페이스를 함께 사용하면, 클래스가 인터페이스를 구현하도록 강제할 수 있어 객체의 구조와 행동을 더 명확하게 정의할 수 있다. 인터페이스로는 객체의 구조 역시 정의할 수 있는데, 이를 통해 객체가 특정 속성이나 메소드를 갖고 있음을 보장할 수 있어 코드의 일관성과 가독성이 향상된다.

4. 제네릭

   타입스크립트의 제네릭을 사용하면 컴포넌트와 함수가 다양한 타입에 대해 작동할 수 있게 만들면서도 타입 안전성을 유지할 수 있다.

### 2. 디자이너로부터 전달받은 피그마 링크 혹은, 피그마 캡처본

[🔗 피그마 링크](https://www.figma.com/file/jOcAfCCjt1ltxlZKCkW9eu/Study_2?type=design&node-id=0-1&mode=design&t=j24y5RZeIXQ0drnM-0)

![figma design](https://file.notion.so/f/f/9a4f0dad-d16a-4399-a588-f2547ae8aa9a/f15a5988-21d9-4149-a18b-44f757deff84/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-03-22_%EC%98%A4%EC%A0%84_2.44.06.png?id=b7affc77-0b87-4f31-9392-f68d7432e80b&table=block&spaceId=9a4f0dad-d16a-4399-a588-f2547ae8aa9a&expirationTimestamp=1711807200000&signature=aTnd9amg2yLBNaV6W3NTe0-TP8BaIu0aNQmh09i3YHY&downloadName=%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7+2024-03-22+%EC%98%A4%EC%A0%84+2.44.06.png)

### 3. 컴포넌트를 분리한 기준은 무엇인가요?

전체적인 디자인, 기능을 보면서 재사용되는 부분을 컴포넌트로 분리하였습니다.

이후 페이지 라우팅에 대한 확장성을 고려하여 페이지별 폴더를 만들어주었습니다.

### 4. 디자인 시스템을 적용하면서 느낀 점은 무엇인가요?

제가 따로 뷰를 고민할 필요 없이 피그마에 나온 디자인을 보고 바로 개발을 시작하니 굉장히 편리했습니다. 특히 폰트, 색상, 글자 스타일 등이 미리 정해져있으니 초기 세팅만 해놓으면 언제든 불러서 사용하면 된다는 것이 가장 좋았습니다.

다만 디자인을 받은 만큼 그 디자인을 최대한 잘 반영해야 한다고 생각해서, 섬세하고 꼼꼼하게 작업했던 것 같습니다.

### 5. 디자이너와 소통하며 느낀점은 무엇인가요?

혼자 하는 과제가 아니기 때문에, 제가 할 수 있는 것과 없는 것에 대한 판단을 정확히 하고 그 부분에 대해 디자이너 분과 소통하는 것이 정말 중요하다고 느꼈습니다.

그리고 책임이 커진 만큼 더 열심히 과제를 구현하려고 했고, 그것이 좋은 결과물을 낼 수 있었던 것 같습니다. 협업의 중요성을 깨달을 수 있었습니다.
